{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"192.168.32.12","basePath":"/bd-service","tags":[{"name":"deprecated-controller","description":"Deprecated Controller"},{"name":"bd-assistant-controller","description":"Bd Assistant Controller"}],"paths":{"/api/internal/v1/cityList":{"get":{"tags":["deprecated-controller"],"summary":"获取城市列表或地推列表","operationId":"getBdAssistantByCityUsingGET_1","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"cityId","in":"query","description":"城市ID,逗号分割","required":false,"type":"string"},{"name":"staffId","in":"query","description":"地推ID,逗号分割","required":false,"type":"string"},{"name":"provinceId","in":"query","description":"省份ID,逗号分割","required":false,"type":"string"},{"name":"status","in":"query","description":"地区分配状态：0为已分配，1为待分配 ，2为失效–支持多维，逗号分隔","required":false,"type":"string"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«DistrictManagement»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/api/internal/v1/getBdAssistantByCity":{"get":{"tags":["deprecated-controller"],"summary":"获取城市列表或地推列表","operationId":"getBdAssistantByCityUsingGET_2","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"cityId","in":"query","description":"城市ID,逗号分割","required":false,"type":"string"},{"name":"staffId","in":"query","description":"地推ID,逗号分割","required":false,"type":"string"},{"name":"provinceId","in":"query","description":"省份ID,逗号分割","required":false,"type":"string"},{"name":"status","in":"query","description":"地区分配状态：0为已分配，1为待分配 ，2为失效–支持多维，逗号分隔","required":false,"type":"string"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«DistrictManagement»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/api/v1/assignmentDoctor":{"get":{"tags":["bd-assistant-controller"],"summary":"给地推分配医生","operationId":"assignmentDoctorUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"assignmentDoctor","in":"query","description":"分配的情况","required":false,"type":"string"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«int»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/cgi-bin/qrcode/create":{"get":{"tags":["bd-assistant-controller"],"summary":"根据地推Id获取邀请图片","operationId":"getByIdUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"referrerId","in":"query","description":"地推id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«WechatPicture»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/cities":{"get":{"tags":["bd-assistant-controller"],"summary":"获取城市列表","description":"e","operationId":"citiesUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"provinceId","in":"query","description":"省份id","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«ListResult«City»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/common/uploadToken":{"get":{"tags":["bd-assistant-controller"],"summary":"获取上传token","operationId":"uploadTokenUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"type","in":"query","description":"图片类型(对照码请查看：https://wiki.myzd.info/pages/viewpage.action?pageId=6357028)","required":false,"type":"integer","format":"int32"},{"name":"fileName","in":"query","description":"图片原文件名(加扩展名)","required":false,"type":"string"},{"name":"fileSize","in":"query","description":"文件大小","required":false,"type":"integer","format":"int64"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«UploadTokenV2»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/districtManagement":{"post":{"tags":["deprecated-controller"],"summary":"分配区域管理","description":"传入工号以及城市的一个list","operationId":"districtManagementUsingPOST","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"in":"body","name":"postDistrictManagement","description":"地区列表","required":false,"schema":{"$ref":"#/definitions/PostDistrictManagement"}},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«string»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/api/v1/doctor-kb":{"get":{"tags":["bd-assistant-controller"],"summary":"获取医生库的医生","operationId":"getKbDoctorUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"signedType","in":"query","description":"认证状态 agent 医生已认证 surgeon 专家已认证","required":false,"type":"string","enum":["agent","surgeon","no"]},{"name":"registerStatus","in":"query","description":"注册状态 传true或者false","required":false,"type":"boolean"},{"name":"medicalTitle","in":"query","description":"医生职称","required":false,"type":"string","enum":["ARCHIATER","ASSOCIATE_ARCHIATER","ATTENDING_PHYSICIAN","RESIDENT_PHYSICIAN","CHIEF_NURSE","ASSOCIATE_CHIEF_NURSE","SUPERVISOR_NURSE","NURSE","CHIEF_TECHNICIAN","ASSOCIATE_CHIEF_TECHNICIAN","SUPERVISOR_TECHNICIAN","TECHNICIAN"]},{"name":"cityId","in":"query","description":"城市ID","required":false,"type":"integer","format":"int32"},{"name":"doctorName","in":"query","description":"医生名字","required":false,"type":"string"},{"name":"hospitalName","in":"query","description":"医院名字","required":false,"type":"string"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«DoctorDto»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/doctor-kb/{id}":{"get":{"tags":["bd-assistant-controller"],"summary":"根据ID获取医库医生信息","description":"根据ID获取医库医生信息","operationId":"getDoctorFromDoctorKbByIdUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"id","in":"path","description":"医生ID","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«DoctorDto»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/doctor/{id}":{"get":{"tags":["bd-assistant-controller"],"summary":"根据ID获取注册医生信息","description":"根据ID获取注册医生信息","operationId":"getDoctorFromDoctorAppByIdUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"id","in":"path","description":"注册医生ID","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«DoctorDto»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/doctors":{"get":{"tags":["bd-assistant-controller"],"summary":"获取团队医生","description":"排序调用字段orderBy date_verified:desc/date_verified:asc搜索时间段timeZone  1-注册时间 2-认证时间","operationId":"getTeamDoctorUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"signedType","in":"query","description":"签约状态 no agent surgeon","required":false,"type":"string","enum":["agent","surgeon","no"]},{"name":"startTime","in":"query","description":"开始时间","required":false,"type":"string"},{"name":"endTime","in":"query","description":"结束时间","required":false,"type":"string"},{"name":"referrerId","in":"query","description":"地推ID","required":false,"type":"string"},{"name":"cityId","in":"query","description":"城市ID","required":false,"type":"string"},{"name":"hospitalName","in":"query","description":"医院名字","required":false,"type":"string"},{"name":"doctorName","in":"query","description":"医生名字","required":false,"type":"string"},{"name":"orderBy","in":"query","description":"排序顺序","required":false,"type":"string"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«DoctorDto»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/doctors/{id}/uploadPicture":{"post":{"tags":["bd-assistant-controller"],"summary":"上传图片","operationId":"updateDoctorPictureUsingPOST","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"id","in":"path","description":"医生Id","required":true,"type":"integer","format":"int32"},{"in":"body","name":"uploadPictures","description":"图片信息","required":true,"schema":{"$ref":"#/definitions/UploadPictures"}},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«DoctorFromApp»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/doctors/{userId}/verified":{"put":{"tags":["bd-assistant-controller"],"summary":"认证医生","operationId":"verifyDoctorUsingPUT","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"userId","in":"path","description":"医生用户ID","required":true,"type":"integer","format":"int32"},{"in":"body","name":"approveDoctor","description":"认证信息","required":true,"schema":{"$ref":"#/definitions/ApproveDoctor"}},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«DoctorFromApp»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/getBdAssistants":{"get":{"tags":["bd-assistant-controller"],"summary":"获得地推列表","operationId":"getBdAssistantByCityUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"referrerGroupId","in":"query","description":"地推团队id","required":false,"type":"integer","format":"int32"},{"name":"inService","in":"query","description":"工作状态 传false为离职。不传为全部","required":false,"type":"boolean"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«ListResult«Staff»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/hospitals":{"get":{"tags":["bd-assistant-controller"],"summary":"医院搜索","description":"医院名称中的关键字","operationId":"TeamStatisticsUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"hospitalName","in":"query","description":"医院名称","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«ListResult«HospitalDto»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/orders":{"get":{"tags":["bd-assistant-controller"],"summary":"获取订单（自动会选择团队）","description":"订单筛选 时间格式为 标准时间格式<br>排序条件 创建时间:0 支付时间:1 <br> 排列顺序 逆序:0 正序:1","operationId":"cityListUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"startTime","in":"query","description":"开始时间","required":false,"type":"string"},{"name":"endTime","in":"query","description":"结束时间","required":false,"type":"string"},{"name":"referrerId","in":"query","description":"地推ID","required":false,"type":"string"},{"name":"status","in":"query","description":"订单状态","required":false,"type":"string"},{"name":"agentId","in":"query","description":"下级医生ID","required":false,"type":"integer","format":"int32"},{"name":"agentName","in":"query","description":"下级医生名字","required":false,"type":"string"},{"name":"surgeonName","in":"query","description":"上级医生名字","required":false,"type":"string"},{"name":"serviceTarget","in":"query","description":"服务对象","required":false,"type":"string","enum":["surgeon","agent"]},{"name":"sortCriteria","in":"query","description":"排序条件","required":false,"type":"integer","format":"int32"},{"name":"collatingSequence","in":"query","description":"排序顺序","required":false,"type":"integer","format":"int32"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«SurgeryOrder»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/orders/{orderNumber}":{"get":{"tags":["bd-assistant-controller"],"summary":"根据订单orderNumber获取订单信息","operationId":"getByIdUsingGET_1","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"orderNumber","in":"path","description":"订单编号","required":true,"type":"integer","format":"int64"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«SurgeryOrder»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/pendingItems":{"get":{"tags":["bd-assistant-controller"],"summary":"待办事项","description":"根据JWT-token，获得代办事项列表","operationId":"pendingItemsUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«DoctorDto»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/provinces":{"get":{"tags":["bd-assistant-controller"],"summary":"获取所有省份的列表","operationId":"provincesUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«ListResult«Province»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/statistics":{"get":{"tags":["bd-assistant-controller"],"summary":"数据统计","description":"当有referrerId时查看某成员。否则查看整个团队","operationId":"statisticsUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"statisticsStart","in":"query","description":"开始时间","required":false,"type":"string"},{"name":"statisticsEnd","in":"query","description":"结束时间","required":false,"type":"string"},{"name":"cityId","in":"query","description":"城市ID","required":false,"type":"integer","format":"int32"},{"name":"referrerId","in":"query","description":"地推ID","required":false,"type":"string"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«Statistics»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/statistics/doctors":{"get":{"tags":["bd-assistant-controller"],"summary":"获取绩效统计里面的医生列表","operationId":"gettatisticsDoctorUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"doctorSearchType","in":"query","description":"搜索的时间段","required":false,"type":"string","enum":["CERTIFIED_DOCTOR","ACTIVE_DOCTOR","SIGN_SURGEON"]},{"name":"startTime","in":"query","description":"开始时间","required":false,"type":"string"},{"name":"endTime","in":"query","description":"结束时间","required":false,"type":"string"},{"name":"referrerId","in":"query","description":"地推ID","required":false,"type":"string"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«DoctorDto»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/statistics/orders":{"get":{"tags":["bd-assistant-controller"],"summary":"获取绩效统计的订单列表","operationId":"statisticsOrdersUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"startTime","in":"query","description":"开始时间","required":false,"type":"string"},{"name":"endTime","in":"query","description":"结束时间","required":false,"type":"string"},{"name":"referrerId","in":"query","description":"地推ID","required":false,"type":"string"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«SurgeryOrder»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/teamStatistics":{"get":{"tags":["bd-assistant-controller"],"summary":"团队管理","description":"根据JWT-token，获得团队成员统计数据","operationId":"TeamStatisticsUsingGET_1","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"statisticsStart","in":"query","description":"开始时间","required":false,"type":"string"},{"name":"statisticsEnd","in":"query","description":"结束时间","required":false,"type":"string"},{"name":"referrerId","in":"query","description":"地推ID","required":false,"type":"string"},{"name":"cityId","in":"query","description":"城市id","required":false,"type":"string"},{"name":"sortCriteria","in":"query","description":"根据订单数量排序 true为从多到少","required":false,"type":"boolean"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«TeamStatistics»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/undistributedDoctors":{"get":{"tags":["bd-assistant-controller"],"summary":"获取待任命的医生列表","operationId":"undistributedDoctorsUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«DoctorDto»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/undistributedList":{"get":{"tags":["deprecated-controller"],"summary":"待分配地区列表","operationId":"undistributedListUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"cityId","in":"query","description":"城市ID","required":false,"type":"integer","format":"int32"},{"name":"sortKey","in":"query","description":"排序条件","required":false,"type":"string","enum":["ORDER_COUNTS","DOCTOR_COUNTS","DIS_ACTIVATION_DOCTOR_COUNT"]},{"name":"sortValue","in":"query","description":"排序字段","required":false,"type":"string","enum":["ASC","DESC"]},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«ListResult«DistrictManagement»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/api/v1/userCenter":{"get":{"tags":["bd-assistant-controller"],"summary":"个人中心","description":"当用户为团队经理时，查看手下地推时，传递referrerId。其余时间不需要传递参数","operationId":"userCenterUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"referrerId","in":"query","description":"地推ID","required":false,"type":"string"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«UserCenter»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/visitDate":{"get":{"tags":["bd-assistant-controller"],"summary":"有过拜访记录的日期","description":"列出有拜访记录的日期","operationId":"visitDatesUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"staffId","in":"query","description":"地推工号","required":false,"type":"string"},{"name":"startDate","in":"query","description":"查询开始日期(含)(yyyy-MM-dd)","required":false,"type":"string"},{"name":"endDate","in":"query","description":"查询结束日期(含)(yyyy-MM-dd)","required":false,"type":"string"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«ListResult«VisitDate»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/visitRecord":{"post":{"tags":["bd-assistant-controller"],"summary":"新增拜访记录","description":"doctorAttitude取值（5:笑，3:一般，1:哭）","operationId":"createVisitRecordUsingPOST","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"in":"body","name":"visitRecordRequest","description":"医生ID","required":false,"schema":{"$ref":"#/definitions/VisitRecordRequest"}},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«VisitRecordDto»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/visitRecord/{id}":{"get":{"tags":["bd-assistant-controller"],"summary":"查看拜访记录","description":"查看拜访记录","operationId":"visitRecordUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"id","in":"path","description":"拜访记录ID","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«VisitRecordDto»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/visitRecords":{"get":{"tags":["bd-assistant-controller"],"summary":"拜访记录列表","description":"查看拜访记录列表","operationId":"visitRecordsUsingGET","consumes":["application/json"],"produces":["application/json","*/*"],"parameters":[{"name":"startTime","in":"query","description":"查询开始时间","required":false,"type":"string"},{"name":"endTime","in":"query","description":"查询结束时间","required":false,"type":"string"},{"name":"staffId","in":"query","description":"地推工号","required":false,"type":"string"},{"name":"page","in":"query","description":"页码","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","description":"每页条目数量","required":false,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","description":"JWT token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultWrapper«PagedResult«VisitRecordDto»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"UploadPictures":{"type":"object","properties":{"picture":{"type":"array","items":{"$ref":"#/definitions/PictureInfo"}}}},"ResultWrapper«ListResult«HospitalDto»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/ListResult«HospitalDto»"},"message":{"type":"string"}}},"Staff":{"type":"object","properties":{"avatar":{"type":"string","description":"地推的头像"},"city_list":{"type":"array","description":"地推城市列表","items":{"$ref":"#/definitions/City"}},"count":{"type":"integer","format":"int32","description":"地推订单数"},"doctor_counts":{"type":"integer","format":"int32","description":"地推医生数"},"name":{"type":"string","description":"地推名字"},"referrer_id":{"type":"string","description":"地推ID"}}},"ResultWrapper«ListResult«Province»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/ListResult«Province»"},"message":{"type":"string"}}},"VisitDate":{"type":"object","properties":{"visit_date":{"type":"string","format":"date-time"}}},"UploadTokenV2":{"type":"object","properties":{"key":{"type":"string"},"large_url":{"type":"string"},"thumbnail_url":{"type":"string"},"upload_info":{"$ref":"#/definitions/UploadInfo"}}},"ResultWrapper«PagedResult«DistrictManagement»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/PagedResult«DistrictManagement»"},"message":{"type":"string"}}},"ResultWrapper«PagedResult«DoctorDto»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/PagedResult«DoctorDto»"},"message":{"type":"string"}}},"PostDistrictManagement":{"type":"object","properties":{"city_list":{"type":"array","items":{"$ref":"#/definitions/CityInput"}},"staff_id":{"type":"string"},"staff_name":{"type":"string"}}},"ResultWrapper«string»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"string"},"message":{"type":"string"}}},"DoctorFromApp":{"type":"object","properties":{"city":{"type":"string"},"city_id":{"type":"integer","format":"int32"},"department":{"type":"string"},"exp_list":{"type":"string"},"hospital_name":{"type":"string"},"icon":{"type":"string"},"image":{"type":"string"},"is_verified":{"type":"string"},"medical_title":{"type":"string"},"mobile":{"type":"string"},"name":{"type":"string"},"order_count":{"type":"integer","format":"int32"},"signed_status":{"type":"string","enum":["NOT_SIGNED","SIGNING","SIGNED","FAILED_SIGNED"]},"user_id":{"type":"integer","format":"int32"}}},"VisitRecordRequest":{"type":"object","properties":{"doctor_attitude":{"type":"integer","format":"int32"},"doctor_department_name":{"type":"string"},"doctor_hospital_id":{"type":"integer","format":"int32"},"doctor_hospital_name":{"type":"string"},"doctor_id":{"type":"integer","format":"int32"},"doctor_medical_title":{"type":"string"},"doctor_mobile":{"type":"string"},"doctor_name":{"type":"string"},"doctor_user_id":{"type":"integer","format":"int32"},"interview_end_time":{"type":"string","format":"date-time"},"interview_start_time":{"type":"string","format":"date-time"},"latitude":{"type":"string","description":"纬度"},"location":{"type":"string"},"longitude":{"type":"string","description":"经度"},"visit_content":{"type":"string"}}},"ResultWrapper«ListResult«Staff»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/ListResult«Staff»"},"message":{"type":"string"}}},"ResultWrapper«VisitRecordDto»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/VisitRecordDto"},"message":{"type":"string"}}},"ListResult«Staff»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/Staff"}}}},"ResultWrapper«SurgeryOrder»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/SurgeryOrder"},"message":{"type":"string"}}},"ResultWrapper«WechatPicture»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/WechatPicture"},"message":{"type":"string"}}},"UploadInfo":{"type":"object","properties":{"driver":{"type":"string"},"key":{"type":"string"},"token":{"type":"string"}}},"PictureInfo":{"type":"object","properties":{"key":{"type":"string"},"tag":{"type":"string"},"type":{"type":"string"},"url":{"type":"string"}}},"VisitRecordDto":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"doctor_attitude":{"type":"integer","format":"int32"},"doctor_department_name":{"type":"string"},"doctor_hospital_id":{"type":"integer","format":"int32"},"doctor_hospital_name":{"type":"string"},"doctor_id":{"type":"integer","format":"int32"},"doctor_medical_title":{"type":"string"},"doctor_mobile":{"type":"string"},"doctor_name":{"type":"string"},"doctor_user_id":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"interview_end_time":{"type":"string","format":"date-time"},"interview_start_time":{"type":"string","format":"date-time"},"latitude":{"type":"string","description":"纬度"},"location":{"type":"string"},"longitude":{"type":"string","description":"经度"},"staff_id":{"type":"string"},"staff_name":{"type":"string"},"visit_content":{"type":"string"}}},"City":{"type":"object","properties":{"bdname":{"type":"string"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"}}},"DistrictManagement":{"type":"object","properties":{"city_id":{"type":"integer","format":"int32"},"city_name":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"distributed_begin_at":{"type":"string","format":"date-time"},"distributed_end_at":{"type":"string","format":"date-time"},"doctor_counts":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"modified_at":{"type":"string","format":"date-time"},"name":{"type":"string"},"order_counts":{"type":"integer","format":"int32"},"province_id":{"type":"integer","format":"int32"},"province_name":{"type":"string"},"staff_id":{"type":"string"},"status":{"type":"integer","format":"int32"},"team_group":{"type":"integer","format":"int32"}}},"Province":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"}}},"ResultWrapper«DoctorDto»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/DoctorDto"},"message":{"type":"string"}}},"ListResult«City»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/City"}}}},"UserCenter":{"type":"object","properties":{"distributed_count":{"type":"integer","format":"int32"},"doctor_count":{"type":"integer","format":"int32"},"is_bd_manager":{"type":"boolean"},"order_count":{"type":"integer","format":"int32"},"todo":{"type":"integer","format":"int32"},"user_avatar_url":{"type":"string"},"user_district":{"type":"array","items":{"$ref":"#/definitions/City"}},"user_id":{"type":"string"},"user_name":{"type":"string"}}},"CityInput":{"type":"object","properties":{"city_id":{"type":"integer","format":"int32"},"city_name":{"type":"string"},"province_id":{"type":"integer","format":"int32"},"province_name":{"type":"string"}}},"SurgeryOrder":{"type":"object","properties":{"agent_fee":{"type":"integer","format":"int32","description":"打款费用"},"agent_id":{"type":"string","description":"医生Id"},"agent_name":{"type":"string","description":"医生名字"},"agent_referrer_name":{"type":"string","description":"医生服务地推名字"},"created_at":{"type":"string","description":"创建时间"},"deposit_payment_paid_at":{"type":"string","description":"支付时间时间"},"expected_surgery_due_date":{"type":"string","format":"date-time","description":"期望手术时间"},"expected_surgery_hospital_id":{"type":"integer","format":"int32","description":"期望手术医院id"},"expected_surgery_hospital_name":{"type":"string","description":"期望手术医院"},"expected_surgery_start_date":{"type":"string","format":"date-time"},"major_disease_name":{"type":"string"},"major_reps_name":{"type":"string"},"modified_at":{"type":"string"},"order_number":{"type":"integer","format":"int64"},"patient_name":{"type":"string"},"pay_at":{"type":"string","description":"打款时间"},"status":{"type":"string","description":"订单状态"},"surgeon_id":{"type":"integer","format":"int32","description":"专家名字"},"surgeon_name":{"type":"string"},"surgeon_referrer_name":{"type":"string","description":"专家服务地推名字"}}},"DoctorDto":{"type":"object","properties":{"avatar_url":{"type":"array","items":{"$ref":"#/definitions/PictureInfo"}},"city_name":{"type":"string"},"department_name":{"type":"string"},"disease_list":{"type":"string"},"hospital_name":{"type":"string"},"icon":{"type":"string"},"id":{"type":"integer","format":"int32"},"image":{"type":"string"},"is_verified":{"type":"string"},"medical_title":{"type":"string"},"mobile":{"type":"string"},"name":{"type":"string"},"order_count":{"type":"integer","format":"int32"},"referrer_name":{"type":"string"},"register_id":{"type":"integer","format":"int32"},"signed_status":{"type":"string","description":"签约状态","enum":["NOT_SIGNED","SIGNING","SIGNED","FAILED_SIGNED"]},"working_seniority":{"type":"integer","format":"int32"}}},"ResultWrapper«PagedResult«SurgeryOrder»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/PagedResult«SurgeryOrder»"},"message":{"type":"string"}}},"ApproveDoctor":{"type":"object","properties":{"approve_status":{"type":"string"},"reject_reason":{"type":"string"},"signed_status":{"type":"string","enum":["NOT_SIGNED","SIGNING","SIGNED","FAILED_SIGNED"]},"staff_id":{"type":"string"}}},"PagedResult«SurgeryOrder»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/SurgeryOrder"}},"page":{"type":"integer","format":"int32"},"page_size":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"}}},"PagedResult«DoctorDto»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/DoctorDto"}},"page":{"type":"integer","format":"int32"},"page_size":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"}}},"ResultWrapper«ListResult«VisitDate»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/ListResult«VisitDate»"},"message":{"type":"string"}}},"PagedResult«VisitRecordDto»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/VisitRecordDto"}},"page":{"type":"integer","format":"int32"},"page_size":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"}}},"TeamStatistics":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/Staff"}},"team_doctor_count":{"type":"integer","format":"int32","description":"本月医生数"},"team_gmv":{"type":"integer","format":"int32","description":"本月GMV"},"team_order_count":{"type":"integer","format":"int32","description":"本月支付的订单"}}},"ResultWrapper«UserCenter»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/UserCenter"},"message":{"type":"string"}}},"ResultWrapper«TeamStatistics»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/TeamStatistics"},"message":{"type":"string"}}},"ResultWrapper«UploadTokenV2»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/UploadTokenV2"},"message":{"type":"string"}}},"ListResult«HospitalDto»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/HospitalDto"}}}},"ListResult«DistrictManagement»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/DistrictManagement"}}}},"ListResult«Province»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/Province"}}}},"ResultWrapper«Statistics»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/Statistics"},"message":{"type":"string"}}},"ResultWrapper«ListResult«DistrictManagement»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/ListResult«DistrictManagement»"},"message":{"type":"string"}}},"Statistics":{"type":"object","properties":{"active_doctor_count":{"type":"integer","format":"int32","description":"提单医生数"},"active_doctor_list":{"type":"array","items":{"type":"integer","format":"int32"}},"doctor_count":{"type":"integer","format":"int32","description":"认证医生数"},"order_count":{"type":"integer","format":"int32","description":"创建订单数"},"paid_order_count":{"type":"integer","format":"int32","description":"支付订单数"},"pre_order_fee_sum":{"type":"integer","format":"int32","description":"服务费总额"},"success_order_count":{"type":"integer","format":"int32","description":"完成订单数"},"surgeon_count":{"type":"integer","format":"int32","description":"主刀专家数"},"surgeon_fee_sum":{"type":"integer","format":"int32","description":"手术费总额"},"surgeon_order_count":{"type":"integer","format":"int32","description":"专家订单数"}}},"HospitalDto":{"type":"object","properties":{"address":{"type":"string"},"alias":{"type":"string"},"city_id":{"type":"integer","format":"int32"},"county_id":{"type":"integer","format":"int32"},"description":{"type":"string"},"hospital_class":{"type":"string"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"official_name":{"type":"string"},"phone":{"type":"string"},"short_name":{"type":"string"},"type":{"type":"string"}}},"ResultWrapper«PagedResult«VisitRecordDto»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/PagedResult«VisitRecordDto»"},"message":{"type":"string"}}},"ResultWrapper«int»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"ResultWrapper«DoctorFromApp»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/DoctorFromApp"},"message":{"type":"string"}}},"PagedResult«DistrictManagement»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/DistrictManagement"}},"page":{"type":"integer","format":"int32"},"page_size":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"}}},"WechatPicture":{"type":"object","properties":{"url":{"type":"string"}}},"ResultWrapper«ListResult«City»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/ListResult«City»"},"message":{"type":"string"}}},"ListResult«VisitDate»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/VisitDate"}}}}}}